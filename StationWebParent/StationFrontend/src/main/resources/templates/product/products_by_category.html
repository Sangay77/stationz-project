<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security6">
<head th:replace="~{fragments::page_head(${pageTitle})}"></head>



<body>

<div th:replace="~{fragments::navbar}"></div>

<div class="container my-4">
    <div class="text-center mb-4">
        <h2 class="fw-bold">Products in [[${category.name}]]</h2>
        <p class="text-muted">Explore our collection below.</p>
    </div>

    <!-- Product Grid -->
    <div class="row g-4">
        <th:block th:each="product : ${listProducts}">
            <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                <div class="card h-100 shadow-sm border-0">
                    <img th:src="@{${product.getMainImagePath}}" class="card-img-top img-fluid" alt="[[${product.name}]]">
                    <div class="card-body d-flex flex-column justify-content-between">
                        <h6 class="card-title text-center fw-semibold text-primary">[[${product.name}]]</h6>
                        <div class="text-center mt-3">
                            <a th:href="@{'/p/' + ${product.alias}}" class="btn btn-outline-primary btn-sm">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
        </th:block>
    </div>

    <!-- Pagination and Summary -->
    <div class="mt-5">
        <div th:replace="~{fragments::resultsSummary('products')}"></div>
        <div th:replace="~{fragments::pagination('/c/' + ${category.alias} + '/page')}"></div>
    </div>
</div>

<div th:replace="~{fragments::footer}"></div>

</body>
</html>
